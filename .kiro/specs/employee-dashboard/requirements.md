# 要件定義書

## はじめに

従業員ダッシュボードは、一般従業員が組織サーベイの回答状況を確認し、自分に関連する調査に簡単にアクセスできる機能を提供します。このダッシュボードにより、従業員は自分の回答履歴を把握し、未回答の調査を見逃すことなく完了できるようになります。完全匿名性を保ちながら、従業員のエンゲージメント向上と調査への参加率向上を実現します。

## 要件

### 要件1: ダッシュボード表示

**目的:** 一般従業員として、自分に関連する調査の一覧と回答状況を一目で確認できるようにしたい。そうすることで、未回答の調査を見逃さず、効率的に回答を完了できる。

#### 受入基準

1. WHEN 従業員がダッシュボードにアクセスした THEN 従業員ダッシュボード SHALL 現在公開中の調査一覧を表示する
2. WHEN ダッシュボードが表示された THEN 従業員ダッシュボード SHALL 各調査について以下の情報を表示する：調査タイトル、説明、期限、回答状態（未回答/回答済み）
3. WHEN 調査一覧が表示された THEN 従業員ダッシュボード SHALL 回答状態に応じて調査をフィルタリングする機能を提供する（全て/未回答のみ/回答済みのみ）
4. WHEN 調査の期限が近い（3日以内） THEN 従業員ダッシュボード SHALL その調査を視覚的に強調表示する
5. WHERE 従業員がログインしている THE 従業員ダッシュボード SHALL セッション情報を利用して個別の回答状態を追跡する

### 要件2: 調査への参加

**目的:** 一般従業員として、ダッシュボードから直接調査に回答できるようにしたい。そうすることで、スムーズに調査を完了し、組織の改善活動に貢献できる。

#### 受入基準

1. WHEN 従業員が未回答の調査カードをクリックした THEN 従業員ダッシュボード SHALL 調査回答ページに遷移する
2. WHEN 従業員が回答済みの調査カードをクリックした THEN 従業員ダッシュボード SHALL 回答完了メッセージを表示し、再回答を防止する
3. WHEN 従業員が調査を完了した THEN 従業員ダッシュボード SHALL 自動的にダッシュボードに戻り、回答状態を「回答済み」に更新する
4. IF ブラウザのLocalStorageにセッション情報が存在する THEN 従業員ダッシュボード SHALL そのセッション情報を利用して回答の重複を防止する

### 要件3: 回答進捗の可視化

**目的:** 一般従業員として、自分の調査参加状況を把握できるようにしたい。そうすることで、組織サーベイへの参加意識を高め、モチベーションを維持できる。

#### 受入基準

1. WHEN ダッシュボードが表示された THEN 従業員ダッシュボード SHALL 全体の調査数と回答済み調査数を集計して表示する
2. WHEN 回答進捗が計算された THEN 従業員ダッシュボード SHALL 回答完了率をパーセンテージで表示する
3. WHEN 全ての公開調査に回答完了した THEN 従業員ダッシュボード SHALL 完了メッセージと感謝のメッセージを表示する
4. WHERE 複数の調査が公開されている THE 従業員ダッシュボード SHALL プログレスバーまたは視覚的インジケータで進捗を表現する

### 要件4: ナビゲーションと統合

**目的:** 一般従業員として、既存のシステムとシームレスに統合されたダッシュボードを利用したい。そうすることで、迷うことなく必要な機能にアクセスできる。

#### 受入基準

1. WHEN 従業員がログインした THEN 従業員ダッシュボード SHALL デフォルトのランディングページとして表示される
2. WHEN 従業員がナビゲーションメニューにアクセスした THEN 従業員ダッシュボード SHALL 「ダッシュボード」メニュー項目を提供する
3. IF 従業員が管理者権限を持つ THEN 従業員ダッシュボード SHALL 管理者ダッシュボードへの切り替えオプションを表示する
4. WHEN ダッシュボードが表示されている THEN 従業員ダッシュボード SHALL 既存のヘッダー、フッター、ナビゲーションコンポーネントと一貫したデザインを使用する

### 要件5: レスポンシブデザインとアクセシビリティ

**目的:** 一般従業員として、様々なデバイスから快適にダッシュボードを利用できるようにしたい。そうすることで、職場でも自宅でもスムーズに調査に参加できる。

#### 受入基準

1. WHEN ダッシュボードがモバイルデバイスで表示された THEN 従業員ダッシュボード SHALL レスポンシブレイアウトで調査カードを1列表示に調整する
2. WHEN ダッシュボードがタブレットで表示された THEN 従業員ダッシュボード SHALL 調査カードを2列グリッドで表示する
3. WHEN ダッシュボードがデスクトップで表示された THEN 従業員ダッシュボード SHALL 調査カードを3列以上のグリッドで表示する
4. WHERE ユーザーがキーボード操作のみを使用する THE 従業員ダッシュボード SHALL 全ての機能にキーボードアクセスを提供する
5. WHILE スクリーンリーダーが使用されている THE 従業員ダッシュボード SHALL 適切なARIAラベルとセマンティックHTMLで情報を伝達する

### 要件6: パフォーマンスとユーザビリティ

**目的:** 一般従業員として、高速で使いやすいダッシュボードを利用したい。そうすることで、ストレスなく調査に参加できる。

#### 受入基準

1. WHEN ダッシュボードが初回ロードされる THEN 従業員ダッシュボード SHALL 2秒以内にコンテンツを表示する
2. WHEN 調査データが取得される THEN 従業員ダッシュボード SHALL ローディングインジケータを表示してユーザーに進行状況を伝える
3. IF APIリクエストが失敗した THEN 従業員ダッシュボード SHALL ユーザーフレンドリーなエラーメッセージと再試行オプションを表示する
4. WHEN ユーザーがフィルタリングや並び替えを実行した THEN 従業員ダッシュボード SHALL 即座に（200ms以内）に結果を反映する
